<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="فروشگاه اینترنتی HDKALA - صفحه checkout">
  <meta name="keywords" content="فروشگاه آنلاین, خرید اینترنتی, الکترونیک, مد و پوشاک, خانه و آشپزخانه">
  <title>HDKALA — صفحه checkout</title>
  <!-- Tailwind CSS -->
  <link href="../../output.css" rel="stylesheet" />
  <!-- Vazirmatn Font -->
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <!-- Iconify -->
  <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
  <style>
    :root {
      --brand-primary: #4338ca;
      --brand-secondary: #6d28d9;
      --brand-accent: #1d4ed8;
      --brand-gradient: linear-gradient(135deg, var(--brand-accent), var(--brand-secondary));
      --brand-gradient-hover: linear-gradient(135deg, #1e3a8a, #5b21b6);
    }

    body.admin-mode {
      background: linear-gradient(135deg, rgba(67, 56, 202, 0.15), rgba(109, 40, 217, 0.08));
    }

    body.admin-mode .admin-dashboard-card {
      box-shadow: 0 20px 45px -18px rgba(67, 56, 202, 0.25);
      border-color: rgba(255, 255, 255, 0.45);
    }

    body.admin-window {
      background: radial-gradient(circle at 20% 20%, rgba(148, 163, 184, 0.25), transparent 55%),
        radial-gradient(circle at 80% 0%, rgba(96, 165, 250, 0.25), transparent 55%),
        #0f172a;
      color: #e2e8f0;
    }

    body.admin-window #app > header,
    body.admin-window #app > footer,
    body.admin-window #mobileMenu,
    body.admin-window #cartSidebar,
    body.admin-window #filterSidebar,
    body.admin-window #compareModal,
    body.admin-window #addressQuickPanel {
      display: none !important;
    }

    body.admin-window #app {
      padding-top: 2.5rem;
      padding-bottom: 2.5rem;
    }

    body.admin-window #content {
      max-width: 1200px;
      margin: 0 auto;
    }

    body.admin-window .notification-toast {
      background: rgba(15, 23, 42, 0.92);
      color: #f8fafc;
      border-color: rgba(96, 165, 250, 0.35);
      box-shadow: 0 28px 60px -24px rgba(14, 116, 144, 0.6);
    }

    body.admin-window .admin-dashboard-card {
      background: rgba(15, 23, 42, 0.75);
      border-color: rgba(148, 163, 184, 0.25);
      box-shadow: 0 24px 50px -24px rgba(8, 47, 73, 0.45);
    }

    .admin-topbar {
      background: rgba(15, 23, 42, 0.85);
      border: 1px solid rgba(148, 163, 184, 0.25);
      box-shadow: 0 20px 45px -25px rgba(14, 116, 144, 0.55);
      backdrop-filter: blur(16px);
    }

    .admin-note-card {
      background: rgba(30, 41, 59, 0.75);
      border: 1px solid rgba(148, 163, 184, 0.2);
    }

    .admin-action-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.6rem 1.25rem;
      border-radius: 9999px;
      font-weight: 600;
      border: 1px solid rgba(148, 163, 184, 0.35);
      color: #e2e8f0;
      background: rgba(30, 41, 59, 0.55);
      transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
    }

    .admin-action-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 16px 32px -20px rgba(14, 165, 233, 0.65);
      background: rgba(59, 130, 246, 0.2);
    }

    .admin-action-btn--primary {
      border-color: rgba(99, 102, 241, 0.45);
      color: #c7d2fe;
      background: rgba(99, 102, 241, 0.18);
    }

    .admin-action-btn--secondary {
      border-color: rgba(14, 165, 233, 0.45);
      color: #bae6fd;
      background: rgba(14, 165, 233, 0.2);
    }

    .admin-action-btn--danger {
      border-color: rgba(248, 113, 113, 0.45);
      color: #fecaca;
      background: rgba(248, 113, 113, 0.18);
    }

    .admin-status-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.35rem 0.75rem;
      border-radius: 0.75rem;
      border: 1px solid rgba(148, 163, 184, 0.25);
      color: #e2e8f0;
      background: rgba(30, 41, 59, 0.55);
      font-size: 0.7rem;
      font-weight: 500;
      transition: background 0.2s ease, border-color 0.2s ease, opacity 0.2s ease;
    }

    .admin-status-btn:hover {
      background: rgba(96, 165, 250, 0.25);
      border-color: rgba(96, 165, 250, 0.4);
    }

    .admin-status-btn[disabled] {
      opacity: 0.45;
      cursor: not-allowed;
    }

    .admin-stock-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
      padding: 0.45rem 0.85rem;
      border-radius: 0.75rem;
      border: 1px solid rgba(34, 197, 94, 0.35);
      color: #bbf7d0;
      background: rgba(22, 101, 52, 0.3);
      font-size: 0.75rem;
      font-weight: 500;
      transition: background 0.2s ease, border-color 0.2s ease;
    }

    .admin-stock-btn:hover {
      background: rgba(34, 197, 94, 0.35);
      border-color: rgba(34, 197, 94, 0.5);
    }

    .admin-input {
      width: 100%;
      background: rgba(15, 23, 42, 0.65);
      border: 1px solid rgba(148, 163, 184, 0.25);
      color: #f1f5f9;
      border-radius: 0.75rem;
      padding: 0.75rem 1rem;
      font-size: 0.85rem;
      transition: border-color 0.2s ease, box-shadow 0.2s ease;
    }

    .admin-input::placeholder {
      color: rgba(226, 232, 240, 0.6);
    }

    .admin-input:focus {
      outline: none;
      border-color: rgba(96, 165, 250, 0.55);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.25);
    }

    .admin-textarea {
      width: 100%;
      min-height: 140px;
      background: rgba(15, 23, 42, 0.65);
      border: 1px solid rgba(148, 163, 184, 0.25);
      color: #f1f5f9;
      border-radius: 0.75rem;
      padding: 0.75rem 1rem;
      font-size: 0.85rem;
      transition: border-color 0.2s ease, box-shadow 0.2s ease;
      resize: vertical;
    }

    .admin-textarea::placeholder {
      color: rgba(226, 232, 240, 0.6);
    }

    .admin-textarea:focus {
      outline: none;
      border-color: rgba(165, 180, 252, 0.6);
      box-shadow: 0 0 0 3px rgba(129, 140, 248, 0.25);
    }

    .nav-auth-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.45rem 1.15rem;
      border-radius: 9999px;
      font-weight: 600;
      font-size: 0.95rem;
      line-height: 1.25rem;
      transition: all 0.25s ease;
      transform-origin: center;
      box-shadow: 0 10px 28px -20px rgba(15, 23, 42, 0.3);
    }

    .nav-auth-btn:hover {
      transform: translateY(-2px) scale(1.005);
    }

    .brand-outline {
      background: rgba(255, 255, 255, 0.9);
      color: var(--brand-primary);
      border: 1px solid rgba(67, 56, 202, 0.45);
      box-shadow: 0 20px 45px -20px rgba(67, 56, 202, 0.35);
    }

    .brand-outline:hover {
      background-image: var(--brand-gradient);
      color: #ffffff;
      border-color: rgba(99, 102, 241, 0.6);
      box-shadow: 0 25px 55px -22px rgba(67, 56, 202, 0.55);
    }

    .brand-gradient {
      background-image: var(--brand-gradient);
      color: #ffffff;
      border: 1px solid rgba(99, 102, 241, 0.45);
      box-shadow: 0 18px 40px -22px rgba(79, 70, 229, 0.55);
    }

    .brand-gradient:hover {
      background-image: var(--brand-gradient-hover);
      box-shadow: 0 26px 60px -20px rgba(55, 48, 163, 0.6);
    }

    .auth-tab {
      border-radius: 9999px;
      border: 1px solid transparent;
      transition: all 0.2s ease;
      font-weight: 600;
    }

    .auth-tab.active {
      box-shadow: 0 18px 36px -22px rgba(79, 70, 229, 0.65);
      border-color: rgba(79, 70, 229, 0.35);
    }

    .notification-toast {
      position: fixed;
      bottom: 1.5rem;
      right: 1.5rem;
      z-index: 50;
      max-width: 20rem;
      width: calc(100% - 3rem);
      background: rgba(255, 255, 255, 0.95);
      color: #1f2937;
      border-radius: 1rem;
      border: 2px solid transparent;
      padding: 0.9rem 1.2rem;
      box-shadow: 0 20px 45px -22px rgba(15, 23, 42, 0.28);
      opacity: 0;
      pointer-events: none;
      transform: translateY(1rem) scale(0.98);
      transition: transform 0.25s ease, opacity 0.25s ease;
    }

    .notification-toast.show {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0) scale(1);
    }

    .notification-toast.notification--error {
      border-color: #ef4444;
    }

    .notification-toast.notification--success {
      border-color: #22c55e;
    }

    html.dark .notification-toast {
      background: rgba(17, 24, 39, 0.92);
      color: #f9fafb;
      box-shadow: 0 25px 50px -25px rgba(15, 23, 42, 0.6);
    }
  </style>
</head>
<body data-page="checkout" class="bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors text-gray-800 dark:text-white">
  <!-- Notification Container -->
  <div id="notification" class="notification-toast">
    <span id="notificationMessage" class="block text-sm leading-relaxed"></span>
  </div>
  
  <!-- Filter Sidebar -->
  <div id="filterSidebar" class="filter-sidebar fixed top-0 right-0 h-full w-80 bg-white dark:bg-gray-800 shadow-2xl z-40 overflow-y-auto transform translate-x-full transition-transform duration-300 custom-scrollbar">
    <div class="p-4 border-b border-primary/20">
      <div class="flex items-center justify-between">
        <h2 class="text-lg font-bold text-primary">فیلترها</h2>
        <button id="closeFilters" class="text-gray-500 hover:text-primary">
          <iconify-icon icon="mdi:close" width="24"></iconify-icon>
        </button>
      </div>
    </div>
    <div class="p-4 space-y-6">
      <!-- Sort -->
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">مرتب‌سازی</label>
        <select id="sortSelect" class="w-full p-2 border border-primary/30 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary/50">
          <option value="popular">محبوب‌ترین</option>
          <option value="price_asc">ارزان‌ترین</option>
          <option value="price_desc">گران‌ترین</option>
          <option value="discount">بیشترین تخفیف</option>
          <option value="newest">جدیدترین</option>
        </select>
      </div>
      <!-- Price Filter -->
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">فیلتر قیمت</label>
        <div class="flex gap-2">
          <input id="minPrice" type="number" placeholder="حداقل" class="flex-1 p-2 border border-primary/30 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white" />
          <input id="maxPrice" type="number" placeholder="حداکثر" class="flex-1 p-2 border border-primary/30 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white" />
        </div>
        <div class="mt-2">
          <input type="range" id="priceRange" min="0" max="50000000" step="100000" class="w-full" />
        </div>
      </div>
      <!-- Category Filter -->
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">دسته‌بندی</label>
        <select id="categoryFilter" class="w-full p-2 border border-primary/30 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary/50">
          <option value="">همه</option>
          <option value="electronics">الکترونیک</option>
          <option value="fashion">مد و پوشاک</option>
          <option value="home">خانه و آشپزخانه</option>
          <option value="books">کتاب</option>
          <option value="sports">ورزشی</option>
        </select>
      </div>
      <!-- Discount Filter -->
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">فیلتر تخفیف</label>
        <select id="discountFilter" class="w-full p-2 border border-primary/30 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary/50">
          <option value="">همه</option>
          <option value="has_discount">دارای تخفیف</option>
          <option value="no_discount">بدون تخفیف</option>
          <option value="high_discount">تخفیف بالا (50%+)</option>
        </select>
      </div>
      <!-- Brand Filter -->
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">برند</label>
        <select id="brandFilter" class="w-full p-2 border border-primary/30 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary/50">
          <option value="">همه برندها</option>
        </select>
      </div>
      <!-- Stock Filter -->
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">موجودی</label>
        <select id="stockFilter" class="w-full p-2 border border-primary/30 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary/50">
          <option value="">همه موجودی‌ها</option>
          <option value="in_stock">موجود</option>
          <option value="out_of_stock">ناموجود</option>
        </select>
      </div>
      <!-- Rating Filter -->
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">امتیاز</label>
        <select id="ratingFilter" class="w-full p-2 border border-primary/30 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-primary/50">
          <option value="">همه امتیازها</option>
          <option value="5">۵ ستاره</option>
          <option value="4">۴ ستاره و بالاتر</option>
          <option value="3">۳ ستاره و بالاتر</option>
        </select>
      </div>
      <!-- Action Buttons -->
      <div class="flex gap-2 pt-4">
        <button id="applyFilter" class="flex-1 bg-primary text-white py-2 rounded-lg font-medium hover:bg-primary/90 transition-colors">
          اعمال فیلترها
        </button>
        <button id="clearFilter" class="px-4 py-2 border border-primary text-primary rounded-lg hover:bg-primary/10 transition-colors">
          پاک‌سازی
        </button>
      </div>
    </div>
  </div>

  <!-- Admin Login Modal -->
  <div id="adminLoginModal" class="fixed inset-0 bg-black/50 z-50 hidden flex items-center justify-center p-4">
    <div class="bg-white dark:bg-gray-800 rounded-2xl w-full max-w-md shadow-xl border border-primary/20">
      <div class="flex items-center justify-between p-6 border-b border-primary/20">
        <h2 class="text-xl font-bold text-primary">ورود به پنل مدیریت</h2>
        <button id="closeAdminLoginModal" class="text-gray-500 hover:text-primary" aria-label="بستن پنجره">
          <iconify-icon icon="mdi:close" width="24"></iconify-icon>
        </button>
      </div>
      <div class="p-6 space-y-6">
        <div id="adminLoginStep" class="space-y-4">
          <p class="text-sm text-gray-600 dark:text-gray-300">
            برای دسترسی به پنل مدیریت، لطفا اطلاعات خود را وارد کنید.
          </p>
          <form id="adminLoginForm" class="space-y-4">
            <div>
              <label for="adminFullName" class="block text-sm font-medium mb-2">نام و نام خانوادگی مدیر</label>
              <input id="adminFullName" name="fullName" type="text" required maxlength="60" class="w-full p-3 border border-primary/30 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white" placeholder="مثال: رضا محمدی">
            </div>
            <div>
              <label for="adminNationalCode" class="block text-sm font-medium mb-2">کد ملی</label>
              <input id="adminNationalCode" name="nationalCode" type="text" required data-national maxlength="10" class="w-full p-3 border border-primary/30 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white" placeholder="مثال: ۱۲۳۴۵۶۷۸۹۰">
            </div>
            <div>
              <label for="adminPhone" class="block text-sm font-medium mb-2">شماره تماس</label>
              <input id="adminPhone" name="phone" type="tel" required data-phone maxlength="11" class="w-full p-3 border border-primary/30 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white text-left" placeholder="09xxxxxxxxx">
            </div>
            <div>
              <label for="adminEmail" class="block text-sm font-medium mb-2">ایمیل</label>
              <input id="adminEmail" name="email" type="email" required class="w-full p-3 border border-primary/30 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white" placeholder="admin@example.com">
            </div>
            <div>
              <label for="adminCode" class="block text-sm font-medium mb-2">کد ادمین</label>
              <input id="adminCode" name="adminCode" type="password" required minlength="4" class="w-full p-3 border border-primary/30 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white" placeholder="کد امنیتی">
            </div>
            <button type="submit" class="w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors">
              ارسال کد تأیید
            </button>
          </form>
        </div>
        <div id="adminOtpStep" class="space-y-4 hidden">
          <div class="bg-primary/10 text-primary text-sm p-3 rounded-lg" id="adminLoginMessage">
          </div>
          <form id="adminOtpForm" class="space-y-4">
            <div class="flex justify-center gap-2" dir="ltr">
              <input type="text" maxlength="1" class="otp-input admin-otp-input w-12 h-12 text-center text-xl border-2 border-gray-300 rounded-lg focus:border-primary focus:outline-none transition-colors text-gray-900 dark:text-white" inputmode="numeric" pattern="[0-9]" autocomplete="one-time-code" style="background-color: rgba(15,23,42,0.85); color: #f8fafc; border-color: #475569;">
              <input type="text" maxlength="1" class="otp-input admin-otp-input w-12 h-12 text-center text-xl border-2 border-gray-300 rounded-lg focus:border-primary focus:outline-none transition-colors text-gray-900 dark:text-white" inputmode="numeric" pattern="[0-9]" autocomplete="one-time-code" style="background-color: rgba(15,23,42,0.85); color: #f8fafc; border-color: #475569;">
              <input type="text" maxlength="1" class="otp-input admin-otp-input w-12 h-12 text-center text-xl border-2 border-gray-300 rounded-lg focus:border-primary focus:outline-none transition-colors text-gray-900 dark:text-white" inputmode="numeric" pattern="[0-9]" autocomplete="one-time-code" style="background-color: rgba(15,23,42,0.85); color: #f8fafc; border-color: #475569;">
              <input type="text" maxlength="1" class="otp-input admin-otp-input w-12 h-12 text-center text-xl border-2 border-gray-300 rounded-lg focus:border-primary focus:outline-none transition-colors text-gray-900 dark:text-white" inputmode="numeric" pattern="[0-9]" autocomplete="one-time-code" style="background-color: rgba(15,23,42,0.85); color: #f8fafc; border-color: #475569;">
              <input type="text" maxlength="1" class="otp-input admin-otp-input w-12 h-12 text-center text-xl border-2 border-gray-300 rounded-lg focus:border-primary focus:outline-none transition-colors text-gray-900 dark:text-white" inputmode="numeric" pattern="[0-9]" autocomplete="one-time-code" style="background-color: rgba(15,23,42,0.85); color: #f8fafc; border-color: #475569;">
              <input type="text" maxlength="1" class="otp-input admin-otp-input w-12 h-12 text-center text-xl border-2 border-gray-300 rounded-lg focus:border-primary focus:outline-none transition-colors text-gray-900 dark:text-white" inputmode="numeric" pattern="[0-9]" autocomplete="one-time-code" style="background-color: rgba(15,23,42,0.85); color: #f8fafc; border-color: #475569;">
            </div>
            <div class="flex gap-3">
              <button type="button" id="adminOtpBack" class="flex-1 border border-primary text-primary py-2 rounded-lg hover:bg-primary/10 transition-colors">ویرایش اطلاعات</button>
              <button type="submit" class="flex-1 bg-primary text-white py-2 rounded-lg hover:bg-primary/90 transition-colors">ورود به پنل</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Admin Panel Modal -->
  <div id="adminModal" class="fixed inset-0 bg-black/60 z-50 hidden flex">
    <div class="relative flex flex-col w-full h-full bg-white dark:bg-gray-900">
      <div class="flex items-center justify-between px-6 py-4 border-b border-primary/20 bg-white/90 dark:bg-gray-900/90 backdrop-blur">
        <h2 class="text-xl font-bold text-primary">پنل مدیریت محصولات</h2>
        <button id="closeAdminModal" class="text-gray-500 hover:text-primary transition-colors">
          <iconify-icon icon="mdi:close" width="24"></iconify-icon>
        </button>
      </div>
      <div class="flex-1 overflow-y-auto p-6 space-y-6">
        <div class="flex justify-between items-center">
          <h3 class="text-lg font-semibold">لیست محصولات</h3>
          <button id="addProductBtn" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors">
            افزودن محصول جدید
          </button>
        </div>
        <div class="relative">
          <input type="text" id="adminSearch" placeholder="جستجو در محصولات..." class="w-full p-3 pr-10 border border-primary/30 rounded-lg bg-white dark:bg-gray-700">
          <iconify-icon icon="mdi:magnify" class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-500"></iconify-icon>
        </div>
        <div id="adminProductsList" class="space-y-4">
          <!-- Products will be populated here -->
        </div>
        <!-- Add/Edit Product Form -->
        <div id="productForm" class="hidden bg-gray-50 dark:bg-gray-700 p-6 rounded-lg">
          <h4 class="text-lg font-semibold mb-4" id="formTitle">افزودن محصول جدید</h4>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
            <div>
              <label class="block text-sm font-medium mb-2">نام محصول</label>
              <input id="productName" type="text" class="w-full p-2 border border-primary/30 rounded-lg bg-white dark:bg-gray-600">
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">قیمت (تومان)</label>
              <input id="productPrice" type="number" class="w-full p-2 border border-primary/30 rounded-lg bg-white dark:bg-gray-600">
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">دسته‌بندی</label>
              <select id="productCategory" class="w-full p-2 border border-primary/30 rounded-lg bg-white dark:bg-gray-600">
                <option value="electronics">الکترونیک</option>
                <option value="fashion">مد و پوشاک</option>
                <option value="home">خانه و آشپزخانه</option>
                <option value="books">کتاب</option>
                <option value="sports">ورزشی</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">برند</label>
              <input id="productBrand" type="text" class="w-full p-2 border border-primary/30 rounded-lg bg-white dark:bg-gray-600">
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">تخفیف (%)</label>
              <input id="productDiscount" type="number" min="0" max="100" class="w-full p-2 border border-primary/30 rounded-lg bg-white dark:bg-gray-600">
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">موجودی</label>
              <input id="productStock" type="number" class="w-full p-2 border border-primary/30 rounded-lg bg-white dark:bg-gray-600">
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">وضعیت</label>
              <select id="productStatus" class="w-full p-2 border border-primary/30 rounded-lg bg-white dark:bg-gray-600">
                <option value="">بدون وضعیت</option>
                <option value="new">جدید</option>
                <option value="hot">فروش ویژه</option>
                <option value="bestseller">پرفروش</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">امتیاز</label>
              <select id="productRating" class="w-full p-2 border border-primary/30 rounded-lg bg-white dark:bg-gray-600">
                <option value="1">۱ ستاره</option>
                <option value="2">۲ ستاره</option>
                <option value="3">۳ ستاره</option>
                <option value="4">۴ ستاره</option>
                <option value="5">۵ ستاره</option>
              </select>
            </div>
            <div class="md:col-span-2 lg:col-span-3">
              <label class="block text-sm font-medium mb-2">توضیحات</label>
              <textarea id="productDesc" rows="3" class="w-full p-2 border border-primary/30 rounded-lg bg-white dark:bg-gray-600"></textarea>
            </div>
            <div class="md:col-span-2 lg:col-span-3">
              <label class="block text-sm font-medium mb-2">آپلود تصویر اصلی</label>
              <div class="border-2 border-dashed border-primary/30 rounded-lg p-4 text-center">
                <input type="file" id="productImage" accept="image/*" class="hidden">
                <label for="productImage" class="cursor-pointer">
                  <iconify-icon icon="mdi:cloud-upload" width="48" class="text-primary mb-2"></iconify-icon>
                  <p class="text-sm text-gray-600 dark:text-gray-400">برای آپلود تصویر کلیک کنید</p>
                </label>
              </div>
              <div id="imagePreview" class="mt-2 flex gap-2"></div>
            </div>
          </div>
          <div class="flex gap-2">
            <button id="saveProduct" class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors">ذخیره محصول</button>
            <button id="cancelProduct" class="border border-primary text-primary px-6 py-2 rounded-lg hover:bg-primary/10 transition-colors">لغو</button>
          </div>
        </div>
        <!-- Admin Stats -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
          <div class="bg-primary/10 p-4 rounded-lg text-center">
            <div class="text-2xl font-bold text-primary" id="adminProductCount">0</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">تعداد محصولات</div>
          </div>
          <div class="bg-green-500/10 p-4 rounded-lg text-center">
            <div class="text-2xl font-bold text-green-500" id="adminInStockCount">0</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">محصولات موجود</div>
          </div>
          <div class="bg-yellow-500/10 p-4 rounded-lg text-center">
            <div class="text-2xl font-bold text-yellow-500" id="adminDiscountCount">0</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">تخفیف دار</div>
          </div>
          <div class="bg-purple-500/10 p-4 rounded-lg text-center">
            <div class="text-2xl font-bold text-purple-500" id="adminOrderCount">0</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">سفارشات</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Compare Modal -->
  <div id="compareModal" class="fixed inset-0 bg-black/60 z-50 hidden flex">
    <div class="relative flex flex-col w-full h-full bg-white dark:bg-gray-900">
      <div class="flex items-center justify-between px-6 py-4 border-b border-primary/20 bg-white/90 dark:bg-gray-900/90 backdrop-blur">
        <h2 class="text-xl font-bold text-primary">مقایسه محصولات</h2>
        <button id="closeCompareModal" class="text-gray-500 hover:text-primary transition-colors">
          <iconify-icon icon="mdi:close" width="24"></iconify-icon>
        </button>
      </div>
      <div class="flex-1 overflow-y-auto p-6">
        <div id="compareProducts" class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Compare products will be populated here -->
        </div>
      </div>
    </div>
  </div>

  <!-- Cart Sidebar -->
  <div id="cartSidebar" class="filter-sidebar fixed top-0 right-0 h-full w-96 bg-white dark:bg-gray-800 shadow-2xl z-40 overflow-y-auto transform translate-x-full transition-transform duration-300 custom-scrollbar">
    <div class="p-4 border-b border-primary/20">
      <div class="flex items-center justify-between">
        <h2 class="text-lg font-bold text-primary">سبد خرید</h2>
        <button id="closeCart" class="text-gray-500 hover:text-primary">
          <iconify-icon icon="mdi:close" width="24"></iconify-icon>
        </button>
      </div>
    </div>
    <div class="p-4">
      <div id="cartItems" class="space-y-4 mb-6">
        <!-- Cart items will be populated here -->
      </div>
      <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
        <div class="flex justify-between mb-2">
          <span>جمع کل:</span>
          <span id="cartTotal" class="font-bold">۰ تومان</span>
        </div>
        <div class="flex justify-between mb-2">
          <span>تخفیف:</span>
          <span id="cartDiscount" class="text-green-500">۰ تومان</span>
        </div>
        <div class="flex justify-between mb-2">
          <span>هزینه ارسال:</span>
          <span id="cartShipping" class="text-gray-600">۰ تومان</span>
        </div>
        <div class="flex justify-between mb-4 font-bold text-lg">
          <span>مبلغ قابل پرداخت:</span>
          <span id="cartFinalTotal">۰ تومان</span>
        </div>
        <button id="checkoutBtn" class="w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors">
          ادامه فرآیند خرید
        </button>
      </div>
    </div>
  </div>

  <div id="app" class="max-w-7xl mx-auto px-4 py-8">
    <!-- Header -->
    <header class="flex items-center justify-between mb-6 relative">
      <div class="flex items-center gap-3">
        <a href="#home" class="text-2xl font-extrabold text-primary flex items-center gap-2" id="homeLink">
          <iconify-icon icon="mdi:cart" width="26"></iconify-icon> 
          HDKALA
        </a>
        <div class="hidden md:flex items-center gap-4">
          <a href="#products" class="text-gray-700 dark:text-white hover:text-primary transition-colors">محصولات</a>
          <a href="#about" class="text-gray-700 dark:text-white hover:text-primary transition-colors">درباره ما</a>
          <a href="#contact" class="text-gray-700 dark:text-white hover:text-primary transition-colors">تماس با ما</a>
          <a href="#blog" class="text-gray-700 dark:text-white hover:text-primary transition-colors">بلاگ</a>
          <button type="button" class="address-quick-trigger text-gray-700 dark:text-white hover:text-primary transition-colors focus:outline-none">آدرس‌های من</button>
          <a href="#admin" id="adminAccessLink" class="text-gray-700 dark:text-white hover:text-primary transition-colors">ورود مدیریت</a>
        </div>
      </div>
      <div class="flex items-center gap-3">
        <!-- Search -->
        <div class="relative hidden md:block">
          <input id="searchInput" type="search" placeholder="جستجو..." class="search-box py-2 pl-10 pr-4 rounded-full border border-primary/30 bg-white/80 dark:bg-gray-800/80 text-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary/50" aria-label="جستجو">
          <iconify-icon icon="mdi:magnify" class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"></iconify-icon>
        </div>
        <!-- Theme toggle -->
        <button id="themeToggle" class="p-2 text-gray-700 dark:text-white hover:text-primary transition-colors" aria-label="تغییر حالت">
          <iconify-icon id="themeIcon" icon="ph:moon-duotone" width="20"></iconify-icon>
        </button>
        <!-- Compare -->
        <button id="compareBtn" class="p-2 text-gray-700 dark:text-white hover:text-primary transition-colors relative" aria-label="مقایسه محصولات">
          <iconify-icon icon="mdi:compare" width="24"></iconify-icon>
          <span id="compareCount" class="absolute -top-2 -left-2 bg-primary text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hidden">0</span>
        </button>
        <!-- Filter Button -->
        <button id="filterBtn" class="p-2 text-gray-700 dark:text-white hover:text-primary transition-colors" aria-label="فیلترها">
          <iconify-icon icon="mdi:filter-outline" width="24"></iconify-icon>
        </button>
        <!-- Wishlist -->
        <button id="wishlistBtn" class="relative text-gray-700 dark:text-white hover:text-primary transition-colors" aria-label="لیست علاقه‌مندی‌ها">
          <iconify-icon icon="mdi:heart-outline" width="26"></iconify-icon>
          <span id="wishlistCount" class="absolute -top-2 -left-2 bg-primary text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hidden">0</span>
        </button>
        <!-- Cart -->
        <button id="cartBtn" class="relative text-gray-700 dark:text-white hover:text-primary transition-colors" aria-label="سبد خرید">
          <iconify-icon icon="mdi:cart-outline" width="26"></iconify-icon>
          <span id="cartCount" class="absolute -top-2 -left-2 bg-primary text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hidden">0</span>
        </button>
        <!-- Auth buttons -->
        <div id="authButtonGroup" class="hidden md:flex items-center gap-2">
          <button id="navLoginBtn" class="nav-auth-btn brand-outline">ورود</button>
          <button id="navSignupBtn" class="nav-auth-btn brand-gradient">ثبت‌نام</button>
        </div>
        <!-- User -->
        <div class="relative" id="userArea">
          <button id="userButton" class="hidden items-center gap-2 text-gray-700 dark:text-white hover:text-primary transition-colors">
            <iconify-icon icon="mdi:user-circle-outline" width="26"></iconify-icon>
            <span id="userLabel" class="text-sm font-medium">کاربر</span>
          </button>
          <!-- User Dropdown -->
          <div id="userDropdown" class="user-dropdown absolute left-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-primary/30 py-2 z-30 opacity-0 invisible transform -translate-y-2 transition-all duration-200">
            <div id="userDropdownContent">
              <!-- Content will be populated dynamically -->
            </div>
          </div>
        </div>
        <!-- Mobile Menu -->
        <button id="mobileMenuBtn" class="md:hidden text-gray-700 dark:text-white">
          <iconify-icon icon="mdi:menu" width="26"></iconify-icon>
        </button>
      </div>
      <div id="addressQuickPanel" class="absolute top-full right-0 mt-3 w-full max-w-md bg-white dark:bg-gray-900 border border-primary/20 rounded-2xl shadow-2xl hidden z-40">
        <div class="flex items-center justify-between px-4 py-3 border-b border-primary/20">
          <h3 class="text-sm font-semibold text-primary">آدرس‌های من</h3>
          <button id="closeAddressQuick" class="text-gray-500 hover:text-primary transition-colors">
            <iconify-icon icon="mdi:close" width="20"></iconify-icon>
          </button>
        </div>
        <div id="addressQuickContent" class="p-4 space-y-3 text-sm text-gray-600 dark:text-gray-300">
          <p class="text-center text-gray-500">برای مشاهده آدرس‌ها ابتدا وارد حساب شوید.</p>
        </div>
        <div class="px-4 py-3 border-t border-primary/10 bg-primary/5 dark:bg-white/5 flex items-center justify-between text-xs">
          <span class="text-gray-500 dark:text-gray-400">مدیریت سریع آدرس‌ها</span>
          <a href="#addresses" class="text-primary hover:text-primary/80 transition-colors">مشاهده همه</a>
        </div>
      </div>
    </header>
    <!-- Mobile Menu -->
    <div id="mobileMenu" class="md:hidden hidden mb-4 bg-white dark:bg-gray-800 rounded-lg p-4 border border-primary/30">
      <div class="flex flex-col gap-3">
        <a href="#products" class="block py-2 text-gray-700 dark:text-white hover:text-primary transition-colors">محصولات</a>
        <a href="#about" class="block py-2 text-gray-700 dark:text-white hover:text-primary transition-colors">درباره ما</a>
        <a href="#contact" class="block py-2 text-gray-700 dark:text-white hover:text-primary transition-colors">تماس با ما</a>
        <a href="#blog" class="block py-2 text-gray-700 dark:text-white hover:text-primary transition-colors">بلاگ</a>
        <button type="button" class="address-quick-trigger block w-full text-right py-2 text-gray-700 dark:text-white hover:text-primary transition-colors focus:outline-none">آدرس‌های من</button>
      </div>
      <div id="mobileAuthButtons" class="mt-4 flex flex-col gap-2">
        <button id="mobileLoginBtn" class="nav-auth-btn brand-outline">ورود</button>
        <button id="mobileSignupBtn" class="nav-auth-btn brand-gradient">ثبت‌نام</button>
      </div>
    </div>
    <!-- Main Content -->
    <div id="content" class="min-h-screen">
      <!-- Content will be populated dynamically -->
    </div>
    <!-- Footer -->
    <footer class="mt-16 border-t border-primary/20 pt-8 pb-6">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div>
          <h3 class="text-lg font-bold text-primary mb-4">HDKALA</h3>
          <p class="text-gray-600 dark:text-gray-400 text-sm">
            فروشگاه آنلاین با بهترین کیفیت و قیمت. تجربه‌ای متفاوت از خرید آنلاین.
          </p>
        </div>
        <div>
          <h4 class="font-semibold mb-4">دسترسی سریع</h4>
          <ul class="space-y-2 text-sm text-gray-600 dark:text-gray-400">
            <li><a href="#products" class="hover:text-primary transition-colors">محصولات</a></li>
            <li><a href="#about" class="hover:text-primary transition-colors">درباره ما</a></li>
            <li><a href="#contact" class="hover:text-primary transition-colors">تماس با ما</a></li>
            <li><a href="#blog" class="hover:text-primary transition-colors">بلاگ</a></li>
          </ul>
        </div>
        <div>
          <h4 class="font-semibold mb-4">خدمات مشتریان</h4>
          <ul class="space-y-2 text-sm text-gray-600 dark:text-gray-400">
            <li><a href="#shipping" class="hover:text-primary transition-colors">ارسال و بازگشت</a></li>
            <li><a href="#terms" class="hover:text-primary transition-colors">قوانین و مقررات</a></li>
            <li><a href="#privacy" class="hover:text-primary transition-colors">حریم خصوصی</a></li>
            <li><a href="#faq" class="hover:text-primary transition-colors">سوالات متداول</a></li>
          </ul>
        </div>
        <div>
          <h4 class="font-semibold mb-4">تماس با ما</h4>
          <div class="space-y-2 text-sm text-gray-600 dark:text-gray-400">
            <div class="flex items-center gap-2">
              <iconify-icon icon="mdi:phone"></iconify-icon>
              <span>۰۲۱-۱۲۳۴۵۶۷۸</span>
            </div>
            <div class="flex items-center gap-2">
              <iconify-icon icon="mdi:email"></iconify-icon>
              <span>info@hdkala.com</span>
            </div>
            <div class="flex items-center gap-2">
              <iconify-icon icon="mdi:map-marker"></iconify-icon>
              <span>تهران، خیابان ولیعصر</span>
            </div>
          </div>
        </div>
      </div>
      <div class="border-t border-gray-200 dark:border-gray-700 mt-8 pt-6 text-center text-sm text-gray-600 dark:text-gray-400">
        © ۲۰۲۴ HDKALA — کلیه حقوق محفوظ است
      </div>
    </footer>
  </div>

  <!-- Component Templates -->
  <template id="tpl-product-card">
    <article class="product-card bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden transition-all duration-300 relative border border-primary/20" data-element="product-card">
      <div class="relative overflow-hidden">
        <a data-element="product-link" href="#">
          <div class="w-full h-48 bg-gray-200 dark:bg-gray-700 flex items-center justify-center">
            <img data-element="product-image" src="" alt="" class="w-full h-48 object-cover product-image zoom-image hidden" loading="lazy" />
            <iconify-icon data-element="product-placeholder" icon="mdi:image-off" width="48" class="text-gray-400"></iconify-icon>
          </div>
        </a>
        <div class="absolute top-2 left-2 flex gap-2">
          <button aria-label="افزودن به علاقه‌مندی‌ها" class="add-to-wishlist bg-white/90 dark:bg-gray-800/90 rounded-full p-2 backdrop-blur-sm" data-element="wishlist-btn" data-id="">
            <iconify-icon data-element="wishlist-icon" icon="mdi:heart-outline" class="text-gray-600 dark:text-gray-400"></iconify-icon>
          </button>
          <button aria-label="مقایسه محصول" class="add-to-compare bg-white/90 dark:bg-gray-800/90 rounded-full p-2 backdrop-blur-sm" data-element="compare-btn" data-id="">
            <iconify-icon data-element="compare-icon" icon="mdi:scale-balance" class="text-gray-600 dark:text-gray-400"></iconify-icon>
          </button>
        </div>
        <div class="absolute top-2 right-2 flex flex-col gap-2" data-element="badge-container">
          <div class="badge badge-discount hidden" data-element="badge-discount"></div>
          <div class="badge badge-new hidden" data-element="badge-new">جدید</div>
          <div class="badge badge-hot hidden" data-element="badge-hot">فروش ویژه</div>
          <div class="badge bg-purple-500 text-white hidden" data-element="badge-bestseller">پرفروش</div>
        </div>
      </div>
      <div class="p-4">
        <h3 class="font-bold text-lg mb-1 dark:text-white line-clamp-2" data-element="product-name"></h3>
        <p class="text-gray-600 dark:text-gray-400 text-sm mb-3 line-clamp-2" data-element="product-description"></p>
        <div class="flex items-center justify-between mb-3">
          <div>
            <div class="text-gray-500 line-through text-sm hidden" data-element="product-original-price"></div>
            <span class="text-primary font-extrabold" data-element="product-final-price"></span>
          </div>
          <div class="text-yellow-500 text-sm" data-element="product-rating"></div>
        </div>
        <div class="flex items-center justify-between mb-2 text-xs">
          <div class="text-gray-500 dark:text-gray-400" data-element="product-stock"></div>
          <div class="text-gray-500 dark:text-gray-400" data-element="product-brand"></div>
        </div>
        <div class="flex gap-2">
          <button class="add-to-cart flex-1 bg-primary hover:bg-primary/90 text-white py-2 rounded-lg font-semibold transition-colors" data-element="add-to-cart" data-id=""></button>
          <a class="view-detail w-12 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors" aria-label="جزئیات" data-element="detail-button" href="#">
            <iconify-icon icon="mdi:eye" width="18"></iconify-icon>
          </a>
        </div>
      </div>
    </article>
  </template>

  <template id="tpl-product-empty">
    <div class="col-span-full text-center text-gray-500 py-10">
      <iconify-icon icon="mdi:package-variant-remove" width="64" class="mb-4"></iconify-icon>
      <p class="text-lg">محصولی یافت نشد</p>
      <p class="text-sm mt-2">لطفا فیلترهای خود را تغییر دهید</p>
    </div>
  </template>

  <template id="tpl-blog-card">
    <article class="bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden border border-primary/20" data-element="blog-card">
      <div class="h-48 bg-gray-200 dark:bg-gray-700 flex items-center justify-center" data-element="blog-image-wrapper">
        <img data-element="blog-image" src="" alt="" class="w-full h-48 object-cover hidden" loading="lazy" />
        <iconify-icon data-element="blog-placeholder" icon="mdi:image-off" width="48" class="text-gray-400"></iconify-icon>
      </div>
      <div class="p-4 space-y-3">
        <span class="text-xs bg-primary/10 text-primary px-2 py-1 rounded-full" data-element="blog-category"></span>
        <h3 class="font-bold text-lg" data-element="blog-title"></h3>
        <p class="text-gray-600 dark:text-gray-400 text-sm" data-element="blog-excerpt"></p>
        <div class="flex justify-between items-center text-xs text-gray-500">
          <span data-element="blog-date"></span>
          <a href="#" class="text-primary hover:text-primary/80 transition-colors" data-element="blog-link">ادامه مطلب</a>
        </div>
      </div>
    </article>
  </template>

  <template id="tpl-home-page">
    <div id="homePage" class="space-y-12">
      <section class="bg-gradient-to-l from-primary to-primary-600 text-white rounded-2xl p-6" id="homeHero">
        <div class="md:flex md:items-center md:justify-between gap-6">
          <div class="flex-1 space-y-4">
            <h1 class="text-2xl md:text-3xl font-extrabold" data-element="home-hero-title">به HDKALA خوش آمدید</h1>
            <p class="opacity-90 text-base" data-element="home-hero-subtitle">بهترین تجربه خرید آنلاین با تنوع بی‌نظیر محصولات و قیمت‌های استثنایی</p>
            <div class="flex flex-wrap gap-3">
              <a href="#products" class="bg-white text-primary rounded-full px-5 py-2.5 font-medium hover:bg-gray-100 transition-colors text-sm">مشاهده محصولات</a>
              <button id="quickAddDemo" class="bg-white/20 border border-white/30 rounded-full px-5 py-2.5 hover:bg-white/30 transition-colors text-sm" type="button">افزودن نمونه</button>
            </div>
          </div>
          <div class="hidden md:block flex-1 text-center">
            <iconify-icon icon="mdi:shopping" width="150" class="opacity-80"></iconify-icon>
          </div>
        </div>
      </section>

      <section class="space-y-6" id="homeCategories">
        <h2 class="text-2xl font-bold text-center">دسته‌بندی‌های محبوب</h2>
        <div class="grid grid-cols-2 md:grid-cols-5 gap-4" data-element="home-category-grid">
          <a href="#products:electronics" class="bg-white dark:bg-gray-800 p-4 rounded-xl text-center shadow-md hover:shadow-lg transition-shadow border border-primary/20">
            <iconify-icon icon="mdi:laptop" width="40" class="text-primary mb-2"></iconify-icon>
            <div class="font-medium">الکترونیک</div>
          </a>
          <a href="#products:fashion" class="bg-white dark:bg-gray-800 p-4 rounded-xl text-center shadow-md hover:shadow-lg transition-shadow border border-primary/20">
            <iconify-icon icon="mdi:tshirt-crew" width="40" class="text-primary mb-2"></iconify-icon>
            <div class="font-medium">مد و پوشاک</div>
          </a>
          <a href="#products:home" class="bg-white dark:bg-gray-800 p-4 rounded-xl text-center shadow-md hover:shadow-lg transition-shadow border border-primary/20">
            <iconify-icon icon="mdi:sofa" width="40" class="text-primary mb-2"></iconify-icon>
            <div class="font-medium">خانه و آشپزخانه</div>
          </a>
          <a href="#products:books" class="bg-white dark:bg-gray-800 p-4 rounded-xl text-center shadow-md hover:shadow-lg transition-shadow border border-primary/20">
            <iconify-icon icon="mdi:book-open" width="40" class="text-primary mb-2"></iconify-icon>
            <div class="font-medium">کتاب</div>
          </a>
          <a href="#products:sports" class="bg-white dark:bg-gray-800 p-4 rounded-xl text-center shadow-md hover:shadow-lg transition-shadow border border-primary/20">
            <iconify-icon icon="mdi:dumbbell" width="40" class="text-primary mb-2"></iconify-icon>
            <div class="font-medium">ورزشی</div>
          </a>
        </div>
      </section>

      <section class="space-y-6" id="homeFeatured">
        <div class="flex justify-between items-center">
          <h2 class="text-2xl font-bold">محصولات ویژه</h2>
          <a href="#products" class="text-primary hover:text-primary/80 transition-colors">مشاهده همه</a>
        </div>
        <div id="featuredProducts" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
      </section>

      <section class="space-y-6" id="homeBlogs">
        <div class="flex justify-between items-center">
          <h2 class="text-2xl font-bold">آخرین مقالات</h2>
          <a href="#blog" class="text-primary hover:text-primary/80 transition-colors">مشاهده همه</a>
        </div>
        <div id="homeBlogList" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
      </section>

      <section class="bg-primary/10 rounded-2xl p-8" id="homeStats">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
          <div>
            <div class="text-3xl font-bold text-primary" data-element="stat-products">0+</div>
            <div class="text-gray-600 dark:text-gray-400">محصول</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-primary" data-element="stat-orders">0+</div>
            <div class="text-gray-600 dark:text-gray-400">سفارش موفق</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-primary" data-element="stat-users">0+</div>
            <div class="text-gray-600 dark:text-gray-400">کاربر فعال</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-primary">۲۴/۷</div>
            <div class="text-gray-600 dark:text-gray-400">پشتیبانی</div>
          </div>
        </div>
      </section>
    </div>
  </template>

  <template id="tpl-products-page">
    <div id="productsPage" class="space-y-6">
      <div class="flex justify-between items-center">
        <h1 class="text-2xl font-bold" data-element="products-title">همه محصولات</h1>
        <div class="flex items-center gap-4">
          <span class="text-sm text-gray-600 dark:text-gray-400" id="productsCount" data-element="products-count">0 محصول</span>
          <button id="toggleView" class="p-2 text-gray-500 hover:text-primary transition-colors" aria-label="تغییر نمای محصولات">
            <iconify-icon icon="mdi:view-grid" width="20"></iconify-icon>
          </button>
        </div>
      </div>

      <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-primary/20">
        <div class="flex flex-wrap gap-4 items-center">
          <span class="font-medium">فیلترهای فعال:</span>
          <div id="activeFilters" class="flex flex-wrap gap-2"></div>
          <button id="clearAllFilters" class="text-sm text-red-500 hover:text-red-700 transition-colors">پاک کردن همه فیلترها</button>
        </div>
      </div>

      <div id="productsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6" aria-live="polite"></div>

      <div class="flex justify-center">
        <nav id="productsPagination" class="flex flex-wrap gap-2" aria-label="صفحات محصولات"></nav>
      </div>
    </div>
  </template>

  <template id="tpl-cart-empty">
    <div class="text-center py-8 text-gray-500">
      <iconify-icon icon="mdi:cart-off" width="48" class="mb-4"></iconify-icon>
      <p>سبد خرید شما خالی است</p>
    </div>
  </template>

  <template id="tpl-cart-item">
    <div class="flex gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg" data-element="cart-item">
      <div class="flex-1">
        <h4 class="font-medium" data-element="cart-item-name"></h4>
        <div class="flex justify-between items-center mt-2">
          <div class="flex items-center gap-2">
            <button class="decrease-qty w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center text-sm" data-element="cart-decrease" data-id="">-</button>
            <span class="w-8 text-center" data-element="cart-qty"></span>
            <button class="increase-qty w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center text-sm" data-element="cart-increase" data-id="">+</button>
          </div>
          <div class="text-primary font-medium" data-element="cart-price"></div>
        </div>
        <div class="text-green-500 text-xs mt-1 hidden" data-element="cart-savings"></div>
      </div>
      <button class="remove-from-cart text-red-500 hover:text-red-700 transition-colors" data-element="cart-remove" data-id="">
        <iconify-icon icon="mdi:trash-can-outline"></iconify-icon>
      </button>
    </div>
  </template>

      <!-- Main JavaScript Files -->
  <script src="../../shared/dom.js"></script>
  <script src="../../shared/core.js"></script>
  <script src="../../shared/storage.js"></script>
  <script src="../../shared/router.js"></script>
  <script src="../admin/admin.js"></script>
  <script src="../cart/cart.js"></script>
  <script src="../../shared/auth.js"></script>
  <script src="../../shared/filters.js"></script>
  <script src="../../shared/pages.js"></script>
  <script src="../../shared/ui.js"></script>
  <script src="../../shared/validation.js"></script>
  <script src="../../shared/components.js"></script>
  <script src="../../shared/utils.js"></script>
  <script src="../../shared/constants.js"></script>
  <script src="./checkout.js"></script>
</body>
</html>